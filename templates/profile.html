{% extends "layout.html" %}
{% block content %}

<div class="profile-container">

    <!-- Avatar + Badge -->
    

    <h1 class="profile-name">{{ username }}</h1>
    <p class="profile-role">
        {% if role == "student" %}
            Student Account
        {% else %}
            Teacher Account
        {% endif %}
    </p>

    <!-- Profile Card -->
    <div class="profile-card">
        <div class="avatar-wrapper">
            <img src="{{ url_for('static', filename=avatar) }}" class="avatar {{ role }}">
            <span class="role-badge">
                {% if role == "student" %}ğŸ“{% else %}â­{% endif %}
            </span>
            <a class="small-btn" href="/choose-avatar/{{ username }}/{{ role }}/">ğŸ–¼ Change Avatar</a>
    </div>
     <h2 class="section-title">Account Details</h2>
      <h2 class="section-title">Edit Your Profile</h2>

<form method="POST" class="profile-form">
    <label for="display_name">Display Name:</label>
    <input type="text" name="display_name" value="{{ user.display_name or '' }}" required>

    <label for="bio">About Me:</label>
    <textarea name="bio">{{ user.bio or '' }}</textarea>

    <button type="submit">Save Changes</button>
</form>

        <div class="info-row">
            <span class="info-label">Username:</span>
            <span class="info-value">{{ username }}</span>
        </div>
        
        <div class="info-row">
            <span class="info-label">Role:</span>
            <span class="info-value">{{ role }}</span>
        </div>

        <div class="info-row">
            <span class="info-label">Member Since:</span>
            <span class="info-value">2025</span>
        </div>

        <div class="info-row">
            <span class="info-label">Status:</span>
            <span class="info-value active">Active</span>
            <h2 class="section-title">Your Stats</h2>

<div class="info-row">
    <span class="info-label">Behaviour Points:</span>
    <span class="info-value">{{ user.behaviour_points | default(0) }}</span>
</div>

<div class="info-row">
    <span class="info-label">Attendance Days:</span>
    <span class="info-value">{{ user.attendance | length }}</span>
</div>

<div class="info-row">
    <span class="info-label">Highest Quiz Score:</span>
    <span class="info-value">{{ user.high_score | default(0) }}</span>

</div>
        </div> <!-- end of profile-card -->
 <div class="info-row">
    <span class="info-label">Badge:</span>
    <span class="info-value">{{ user.badge }}</span>
</div>       

</div>

{% endblock %}






